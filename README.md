# Decimal Python SDK

Check out these links:
- [Decimal SDK docs](https://help.decimalchain.com/api-sdk/).
- [Decimal Console site](https://console.decimalchain.com/).

## Wallet API
### Generate new wallet
```python
from dsc_sdk import Wallet

wallet = Wallet()
```
### Generate wallet from mnemonic*
*if no mnemonic provided Wallet() will create instance with autogenerated mnemonic

```python
from dsc_sdk import Wallet

wallet = Wallet('erase august mask elevator sand picture north there apple equal anchor target...')
```
### Get wallet address
```python
from dsc_sdk import Wallet

wallet = Wallet()
wallet.get_address() # returns wallet address
wallet.get_mnemonic() # returns wallet mnemonic
```

## Get DecimalAPI to perform transactions
To initiate api you have to pass address of the gateway for network you will work with 
```python
from dsc_sdk import DscAPI
api = DscAPI("https://devnet-gate.decimalchain.com/api")

# read chain id & base coin denomination
api.get_parameters()
print(api.get_chain_id())
print(api.get_base_denom())
```

## API usage
After you initialized api instance, you can use its` broadcast() method to send prepared transaction.
Transaction creation examples can be found in this file.

```python
from dsc_sdk import DscAPI
api = DscAPI("https://devnet-gate.decimalchain.com/api")
api.broadcast(prepared_transaction_bytes)
```

## Build and send transaction

```python

# all Msg* functions is defined in tx_types.py
from dsc_sdk import DscAPI, Wallet, Transaction, MsgSendCoin, ...
# helper functions to convert integer values to valid blockchain amounts
from dsc_sdk import ether_to_wei, finney_to_wei

##### 1. initialize api
api = DscAPI("https://devnet-gate.decimalchain.com/api")
api.get_parameters()

##### 2. create wallet and bind it to current blockchain
wallet = Wallet(mnemonic1)
an, seq = api.get_account_number_and_sequence(wallet.get_address())
wallet.set_account_number(an)
wallet.set_sequence(seq)
wallet.set_chain_id(api.get_chain_id())

##### 3. create and sign transaction

# sender and recipient must be valid bech32 address
# like dx1...
msg = MsgSendCoin(sender, recipient, coin_denom, ether_to_wei(1))
tx = Transaction(msg)

# optional: set memo, set custom coin fee...
tx.set_memo("hello from python")
tx.set_fee("initiald", ether_to_wei(1))
tx.calculate_fee(wallet, "initiald", api)

# sign transaction and get transaction bytes to send
tx_bytes = tx.sign(wallet)

##### 4. send transaction and examine result
txres = api.broadcast(txbytes)
print(txres.hash, txres.code, txres.codespace)

```

## Known transaction types (constructors)

- MsgSendCoin(sender: str, recipient: str, denom: str, amount: str)
- MsgSendToken(sender: str, recipient: str, token_id: str, sub_token_ids: List[int])

## Known query methods
